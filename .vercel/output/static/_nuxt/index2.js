import{_ as K}from"./HeroImage.js";import{_ as E}from"./NuxtImg.js";import{u as C,b as F,q as H,_ as O}from"./client.js";import{_ as Q}from"./nuxt-link.js";import{l as V,N as R,P as T,b as p,Q as P,n as U,a as c,o as s,k as l,h as d,U as N,V as A,c as h,w as B,i as W,d as m,L as x,K as g,_ as z}from"./entry.js";import"./NuxtLinkLocale.js";const G={class:"bg-stone-100 w-full h-full py-12"},J={class:"flex max-w-default w-full m-auto gap-8"},X={class:"flex-4 flex flex-col gap-8"},Y={key:0,class:"flex justify-center gap-4 mt-6"},Z=["disabled"],tt={class:"px-4 py-2"},et=["disabled"],at={class:"flex flex-col flex-2 gap-6 bg-white rounded-lg shadow-xl p-6"},st={class:"font-medium"},f=5,nt=V({__name:"Main",async setup($){let a,r;const _=R(),{locale:i}=T(),y=p(()=>i.value==="lt"?"/straipsniai":"/articles"),b=p(()=>"content_"+i.value),w=n=>n?.path?.split("/").pop()??"",{data:I}=([a,r]=P(async()=>C("straipsniai-nav",async()=>(await F(b.value)).find(t=>t.path===y.value)||null,{watch:[i]})),a=await a,r(),a),{data:u}=([a,r]=P(async()=>C("straipsniai-list",async()=>(await H(b.value).all()).filter(t=>t.path.startsWith(y.value+"/")).map(t=>({title:t.title,path:t.path,excerpt:t.excerpt,image:t.image})),{watch:[i]})),a=await a,r(),a),o=U(1),v=p(()=>Math.ceil((u.value?.length??0)/f)),L=p(()=>{if(!u.value)return[];const n=(o.value-1)*f;return u.value.slice(n,n+f).filter(t=>t?.path)}),M=p(()=>I.value?.children?.filter(n=>n?.path)||[]);function S(){o.value<v.value&&o.value++}function j(){o.value>1&&o.value--}return(n,t)=>{const q=E,D=O,k=Q;return s(),c("div",G,[l("div",J,[l("div",X,[(s(!0),c(N,null,A(L.value,e=>(s(),c("div",{key:e.path,class:"flex flex-col gap-4 p-8 rounded-lg shadow-xl bg-white"},[e.image?(s(),h(q,{key:0,src:e.image,class:"w-full rounded"},null,8,["src"])):d("",!0),e.excerpt?(s(),h(D,{key:1,value:e.excerpt,excerpt:!0,class:"prose text-justify"},null,8,["value"])):d("",!0),e.path?(s(),h(k,{key:2,to:m(_)({name:"straipsniai-slug",params:{slug:w(e)}}),class:"font-bold text-red-600 mt-2 inline-block"},{default:B(()=>[...t[0]||(t[0]=[W(" Skaityti daugiau >> ",-1)])]),_:1},8,["to"])):d("",!0)]))),128)),m(u)&&m(u).length>f?(s(),c("div",Y,[l("button",{onClick:j,disabled:o.value===1,class:"px-4 py-2 bg-gray-200 rounded disabled:opacity-50 hover:cursor-pointer"}," Ankstesnis ",8,Z),l("span",tt,"Puslapis "+x(o.value)+" iÅ¡ "+x(v.value),1),l("button",{onClick:S,disabled:o.value===v.value,class:"px-4 py-2 bg-gray-200 rounded disabled:opacity-50 hover:cursor-pointer"}," Kitas ",8,et)])):d("",!0)]),l("div",at,[t[1]||(t[1]=l("h1",{class:"font-semibold text-4xl text-center"},"Straipsniai",-1)),(s(!0),c(N,null,A(M.value,e=>(s(),c("div",{key:e.path,class:""},[g(k,{to:m(_)({name:"straipsniai-slug",params:{slug:w(e)}}),class:"hover:text-red-600"},{default:B(()=>[l("h2",st,x(e.title),1)]),_:2},1032,["to"])]))),128))])])])}}}),ot=Object.assign(z(nt,[["__scopeId","data-v-db096aee"]]),{__name:"ArticlesMain"}),lt={class:"bg-stone-100"},dt=V({__name:"index",setup($){return(a,r)=>{const _=K,i=ot;return s(),c("div",lt,[g(_,{name:a.$t("breadcrumbs.straipsniai")},null,8,["name"]),g(i)])}}});export{dt as default};
